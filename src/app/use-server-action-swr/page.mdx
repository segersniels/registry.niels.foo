import Source from "@/components/source";

# useServerActionSWR

The `useServerActionSWR` is an experimental hook for managing server actions in Next.js client components applying
the SWR pattern to serve stale data while revalidating in the background.

## Usage

```tsx
"use client";

import { useEffect, useState } from "react";

import useServerActionSWR from "@/hooks/use-server-action-swr";

export default function Example({ id }: { id: string }) {
  // Serve stale data while revalidating in the background
  const { data, error, isLoading } = useServerActionSWR(
    async () => serverAction(id),
    [id]
  );

  if (isLoading) {
    return <div>Loading...</div>;
  }

  if (error) {
    return <div>Error: {error.message}</div>;
  }

  return <div>{data}</div>;
}
```

## Installation

```bash
npx shadcn add "https://registry.niels.foo/use-server-action-swr.json"
```

## Source

<Source name="use-server-action-swr" />
